Web Technologies and E-services Capstone Project
===========================================================

## ğŸ‘¥ ThÃ nh viÃªn thá»±c hiá»‡n:

- Nguyá»…n Tháº¿ Anh - 20224921
- Há»“ LÆ°Æ¡ng An - 20224821
- BÃ¹i Kháº¯c Anh - 20225246
- LÃª ÄÃ¬nh HÃ¹ng Anh - 20224917

## ğŸ“‹ MÃ´ táº£ dá»± Ã¡n:

### ğŸ—ï¸ Kiáº¿n TrÃºc Microservices

Dá»± Ã¡n Ä‘Æ°á»£c xÃ¢y dá»±ng theo kiáº¿n trÃºc microservices vá»›i Spring Boot vÃ  Spring Cloud:

- **Discovery Service (Eureka)** - Service registry vÃ  discovery
- **API Gateway** - Single entry point, routing vÃ  load balancing
- **User Service** - Quáº£n lÃ½ ngÆ°á»i dÃ¹ng, authentication, authorization
- **Notification Service** - Gá»­i email thÃ´ng bÃ¡o
- **Common DTO** - Shared data transfer objects

### ğŸš€ CI/CD Pipeline

Há»‡ thá»‘ng tá»± Ä‘á»™ng deploy vá»›i GitHub Actions:

- âœ… Tá»± Ä‘á»™ng build khi push tag `dev_*`
- âœ… Docker containerization
- âœ… Deployment lÃªn Ubuntu server
- âœ… Health checks vÃ  monitoring

### ğŸ› ï¸ Tech Stack

**Backend:**

- Java 21
- Spring Boot 3.2.2
- Spring Cloud (Eureka, Gateway, OpenFeign)
- PostgreSQL (DigitalOcean)
- Redis/Valkey (DigitalOcean)
- RabbitMQ (CloudAMQP)

**DevOps:**

- Docker & Docker Compose
- GitHub Actions
- GitHub Container Registry (GHCR)
- Ubuntu 22.04 Server

## ğŸ“š Documentation

- ğŸ“– [Quick Start Guide](DEPLOYMENT_QUICKSTART.md) - HÆ°á»›ng dáº«n nhanh 5 phÃºt
- ğŸ“– [Full Deployment Guide](deployment/README.md) - HÆ°á»›ng dáº«n chi tiáº¿t
- ğŸ“– [Architecture Overview](ARCHITECTURE.md) - SÆ¡ Ä‘á»“ kiáº¿n trÃºc há»‡ thá»‘ng
- ğŸ“– [Commands Reference](COMMANDS_REFERENCE.md) - Tá»•ng há»£p cÃ¡c lá»‡nh thÆ°á»ng dÃ¹ng
- ğŸ“– [Deployment Checklist](DEPLOYMENT_CHECKLIST.md) - Checklist triá»ƒn khai
- ğŸ“– [CI/CD Summary](CICD_SUMMARY.md) - TÃ³m táº¯t quy trÃ¬nh CI/CD

## ğŸš€ Quick Start

### Triá»ƒn Khai Láº§n Äáº§u

1. **Setup Server**

```bash
# SSH vÃ o server
ssh your-username@your-server-ip

# Cháº¡y setup script
curl -sSL https://raw.githubusercontent.com/ntabodoiqua/cnweb_20251/be/test-deploy/deployment/setup-server.sh | sudo bash

# Clone repository
cd /opt && sudo mkdir -p cnweb && sudo chown -R $USER:$USER cnweb
cd cnweb
git clone git@github.com:ntabodoiqua/cnweb_20251.git .
git checkout be/test-deploy
```

2. **Setup GitHub Secrets**

VÃ o: `Settings â†’ Secrets and variables â†’ Actions`

ThÃªm secrets:

- `SSH_HOST` - IP server
- `SSH_USERNAME` - SSH username
- `SSH_PRIVATE_KEY` - Private key (~/.ssh/id_ed25519)
- `SSH_PORT` - SSH port (default: 22)

3. **Deploy**

```bash
# Táº¡o tag Ä‘á»ƒ trigger deployment
git tag dev_23.10.2025_v1
git push origin dev_23.10.2025_v1
```

### Deploy Version Má»›i

```bash
# Commit changes
git add .
git commit -m "Your changes"
git push origin be/test-deploy

# Create new tag
git tag dev_24.10.2025_v1
git push origin dev_24.10.2025_v1
```

## ğŸ” Monitoring

### Health Checks

```bash
curl http://YOUR_SERVER_IP:8761/actuator/health  # Discovery
curl http://YOUR_SERVER_IP:8080/actuator/health  # Gateway
curl http://YOUR_SERVER_IP:8081/actuator/health  # User Service
curl http://YOUR_SERVER_IP:8084/actuator/health  # Notification
```

### Monitor Script

```bash
cd /opt/cnweb/deployment
./monitor.sh
```

## ğŸƒ Services

| Service              | Port | Description         |
| -------------------- | ---- | ------------------- |
| Discovery Service    | 8761 | Eureka Server       |
| API Gateway          | 8080 | Entry point         |
| User Service         | 8081 | User management     |
| Notification Service | 8084 | Email notifications |

## ğŸ“ Support

Náº¿u gáº·p váº¥n Ä‘á», xem [Troubleshooting Guide](deployment/README.md#troubleshooting) hoáº·c táº¡o issue trÃªn GitHub.

---

**Build Status**: ![Deploy Status](https://github.com/ntabodoiqua/cnweb_20251/actions/workflows/deploy.yml/badge.svg)

**License**: Educational Project - HUST 2025
